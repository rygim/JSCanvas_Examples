@(:title="Tip 3")
@(:header="Tip 3 : Example")
<script type="text/javascript" src="/scripts/starfield.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        bindPresentationActions("/tip3.html", [], "/tip4.html");
    });
        
    window.onload = function(){
        var ctx = document.getElementById("animation-canvas").getContext("2d");                 
        starfield.init(ctx);
        var lastFps = 0, 
            currentFps = 0, 
            numMillisecondsBetweenFpsUpdate = 1000;
        var lastDrawTime = new Date().getTime();
        var drawLoop = function(){
            var startDrawTime = new Date().getTime(); 
            var elapsedTime = startDrawTime - lastDrawTime;
            starfield.update(ctx, elapsedTime);
            lastDrawTime = startDrawTime;
            starfield.draw(ctx);
            ctx.fillStyle = "yellow";
            ctx.fillText("fps: " + lastFps, 15, 15);
            setTimeout(drawLoop, 5);
            currentFps++;
        };
        drawLoop();
        
        setInterval(function(){
            lastFps = Math.round(currentFps * 1000 / numMillisecondsBetweenFpsUpdate);
            currentFps = 0;
        }, numMillisecondsBetweenFpsUpdate);
    };
</script>

<canvas id="animation-canvas" width="700" height="500" />    

