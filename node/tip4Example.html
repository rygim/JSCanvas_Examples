@(:title="Tip 4 Example")
@(:header="Tip 4 Example : How can I only draw what I need to?")
<script type="text/javascript" src="/scripts/frontPage.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        bindPresentationActions("/tip4.html", [], "/tip5.html");
    });
        
    window.onload = function(){
        var ctx = document.getElementById("animation-canvas").getContext("2d");                 
        frontPage.init(false, .5, ctx);
        var lastFps = 0, 
            currentFps = 0, 
            numMillisecondsBetweenFpsUpdate = 1000;
        var lastDrawTime = new Date().getTime();
        var drawLoop = function(){
            var startDrawTime = new Date().getTime(); 
            var elapsedTime = startDrawTime - lastDrawTime;
            frontPage.update(elapsedTime, ctx);
            lastDrawTime = startDrawTime;
            frontPage.draw($("#animation-canvas"), ctx);
            ctx.fillStyle = "yellow";
            ctx.fillText("fps: " + lastFps, 15, 15);
            setTimeout(drawLoop, 5);
            currentFps++;
        };
        drawLoop();
        
        setInterval(function(){
            lastFps = Math.round(currentFps * 1000 / numMillisecondsBetweenFpsUpdate);
            currentFps = 0;
        }, numMillisecondsBetweenFpsUpdate);
    };
</script>
<canvas id="animation-canvas" width="700" height="500" />    

